<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1045px" preserveAspectRatio="none" style="width:823px;height:1045px;background:#FFFFFF;" version="1.1" viewBox="0 0 823 1045" width="823px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="130.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="238" y="142.1094"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="238" y="630.7676"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="238" y="762.9648"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="384.5" y="403.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="504.5254"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="660.0781"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="792.2754"/><rect fill="#FFFFFF" height="101.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="606" y="301.6621"/><rect fill="#FFFFFF" height="476.6133" style="stroke:#A80036;stroke-width:1.0;" width="10" x="727.5" y="475.2148"/><rect fill="#FFFFFF" height="367.6816" style="stroke:#000000;stroke-width:2.0;" width="796.5" x="10" y="592.1465"/><rect fill="#FFFFFF" height="233.1289" style="stroke:none;stroke-width:1.0;" width="796.5" x="10" y="726.6992"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="67.4883" y2="976.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="242.5" x2="242.5" y1="67.4883" y2="976.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="389.5" x2="389.5" y1="67.4883" y2="976.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="513.5" x2="513.5" y1="67.4883" y2="976.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="610.5" x2="610.5" y1="67.4883" y2="976.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="732.5" x2="732.5" y1="67.4883" y2="976.8281"/><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="54" x="20" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="27" y="56.5352">Client</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="54" x="20" y="975.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="27" y="996.3633">Client</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="127" x="179.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="186.5" y="56.5352">Request Lambda</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="127" x="179.5" y="975.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="186.5" y="996.3633">Request Lambda</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="146" x="316.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="323.5" y="56.5352">Processing Lambda</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="146" x="316.5" y="975.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="323.5" y="996.3633">Processing Lambda</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="473.5" y="64.5352">DynamoDB</text><path d="M495.5,15 C495.5,5 513.5,5 513.5,5 C513.5,5 531.5,5 531.5,15 L531.5,41 C531.5,51 513.5,51 513.5,51 C513.5,51 495.5,51 495.5,41 L495.5,15 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M495.5,15 C495.5,25 513.5,25 513.5,25 C513.5,25 531.5,25 531.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="473.5" y="989.3633">DynamoDB</text><path d="M495.5,1002.3164 C495.5,992.3164 513.5,992.3164 513.5,992.3164 C513.5,992.3164 531.5,992.3164 531.5,1002.3164 L531.5,1028.3164 C531.5,1038.3164 513.5,1038.3164 513.5,1038.3164 C513.5,1038.3164 495.5,1038.3164 495.5,1028.3164 L495.5,1002.3164 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M495.5,1002.3164 C495.5,1012.3164 513.5,1012.3164 513.5,1012.3164 C513.5,1012.3164 531.5,1012.3164 531.5,1002.3164 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="563.5" y="64.5352">Input Images</text><path d="M593,15 C593,5 611,5 611,5 C611,5 629,5 629,15 L629,41 C629,51 611,51 611,51 C611,51 593,51 593,41 L593,15 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M593,15 C593,25 611,25 611,25 C611,25 629,25 629,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="563.5" y="989.3633">Input Images</text><path d="M593,1002.3164 C593,992.3164 611,992.3164 611,992.3164 C611,992.3164 629,992.3164 629,1002.3164 L629,1028.3164 C629,1038.3164 611,1038.3164 611,1038.3164 C611,1038.3164 593,1038.3164 593,1028.3164 L593,1002.3164 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M593,1002.3164 C593,1012.3164 611,1012.3164 611,1012.3164 C611,1012.3164 629,1012.3164 629,1002.3164 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="668.5" y="64.5352">Processed Images</text><path d="M714.5,15 C714.5,5 732.5,5 732.5,5 C732.5,5 750.5,5 750.5,15 L750.5,41 C750.5,51 732.5,51 732.5,51 C732.5,51 714.5,51 714.5,41 L714.5,15 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M714.5,15 C714.5,25 732.5,25 732.5,25 C732.5,25 750.5,25 750.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="668.5" y="989.3633">Processed Images</text><path d="M714.5,1002.3164 C714.5,992.3164 732.5,992.3164 732.5,992.3164 C732.5,992.3164 750.5,992.3164 750.5,1002.3164 L750.5,1028.3164 C750.5,1038.3164 732.5,1038.3164 732.5,1038.3164 C732.5,1038.3164 714.5,1038.3164 714.5,1028.3164 L714.5,1002.3164 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M714.5,1002.3164 C714.5,1012.3164 732.5,1012.3164 732.5,1012.3164 C732.5,1012.3164 750.5,1012.3164 750.5,1002.3164 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="238" y="142.1094"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="238" y="630.7676"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="238" y="762.9648"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="384.5" y="403.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="504.5254"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="660.0781"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="508.5" y="792.2754"/><rect fill="#FFFFFF" height="101.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="606" y="301.6621"/><rect fill="#FFFFFF" height="476.6133" style="stroke:#A80036;stroke-width:1.0;" width="10" x="727.5" y="475.2148"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="816.5" x="0" y="98.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="816.5" y1="98.1436" y2="98.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="816.5" y1="101.1436" y2="101.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="120" x="348.25" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="354.25" y="104.0566">Start procesing</text><polygon fill="#A80036" points="226,138.1094,236,142.1094,226,146.1094,230,142.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="232" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="54" y="137.3672">Create process</text><polygon fill="#A80036" points="496.5,167.4199,506.5,171.4199,496.5,175.4199,500.5,171.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="248" x2="502.5" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="255" y="166.6777">Store process index</text><polygon fill="#A80036" points="259,196.7305,249,200.7305,259,204.7305,255,200.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="253" x2="512.5" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="265" y="195.9883">Process index stored</text><line style="stroke:#A80036;stroke-width:1.0;" x1="248" x2="290" y1="230.041" y2="230.041"/><line style="stroke:#A80036;stroke-width:1.0;" x1="290" x2="290" y1="230.041" y2="243.041"/><line style="stroke:#A80036;stroke-width:1.0;" x1="249" x2="290" y1="243.041" y2="243.041"/><polygon fill="#A80036" points="259,239.041,249,243.041,259,247.041,255,243.041" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="255" y="225.2988">Sign upload URL</text><polygon fill="#A80036" points="58,268.3516,48,272.3516,58,276.3516,54,272.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="242" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="64" y="267.6094">Process ID and signed URL</text><polygon fill="#A80036" points="594,297.6621,604,301.6621,594,305.6621,598,301.6621" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="600" y1="301.6621" y2="301.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="54" y="296.9199">Upload request</text><polygon fill="#A80036" points="58,326.9727,48,330.9727,58,334.9727,54,330.9727" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="605" y1="330.9727" y2="330.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="64" y="326.2305">Upload complete</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="816.5" x="0" y="359.6279"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="816.5" y1="359.6279" y2="359.6279"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="816.5" y1="362.6279" y2="362.6279"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="115" x="350.75" y="348.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="356.75" y="365.541">Process image</text><polygon fill="#A80036" points="405.5,399.5938,395.5,403.5938,405.5,407.5938,401.5,403.5938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="399.5" x2="610" y1="403.5938" y2="403.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="411.5" y="398.8516">Put object event</text><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="436.5" y1="432.9043" y2="432.9043"/><line style="stroke:#A80036;stroke-width:1.0;" x1="436.5" x2="436.5" y1="432.9043" y2="445.9043"/><line style="stroke:#A80036;stroke-width:1.0;" x1="395.5" x2="436.5" y1="445.9043" y2="445.9043"/><polygon fill="#A80036" points="405.5,441.9043,395.5,445.9043,405.5,449.9043,401.5,445.9043" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="401.5" y="428.1621">Process image</text><polygon fill="#A80036" points="715.5,471.2148,725.5,475.2148,715.5,479.2148,719.5,475.2148" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="721.5" y1="475.2148" y2="475.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="401.5" y="470.4727">Store processed image</text><polygon fill="#A80036" points="496.5,500.5254,506.5,504.5254,496.5,508.5254,500.5,504.5254" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="502.5" y1="504.5254" y2="504.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="401.5" y="499.7832">Update index</text><polygon fill="#A80036" points="400.5,529.8359,390.5,533.8359,400.5,537.8359,396.5,533.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="512.5" y1="533.8359" y2="533.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="406.5" y="529.0938">Index updated</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="816.5" x="0" y="562.4912"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="816.5" y1="562.4912" y2="562.4912"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="816.5" y1="565.4912" y2="565.4912"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="126" x="345.25" y="551.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="108" x="351.25" y="568.4043">Monitor process</text><path d="M10,592.1465 L72,592.1465 L72,599.1465 L62,609.1465 L10,609.1465 L10,592.1465 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="367.6816" style="stroke:#000000;stroke-width:2.0;" width="796.5" x="10" y="592.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="605.7148">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="87" y="604.7813">[If process running]</text><polygon fill="#A80036" points="226,626.7676,236,630.7676,226,634.7676,230,630.7676" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="232" y1="630.7676" y2="630.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="54" y="626.0254">Get process</text><polygon fill="#A80036" points="496.5,656.0781,506.5,660.0781,496.5,664.0781,500.5,660.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="248" x2="502.5" y1="660.0781" y2="660.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="255" y="655.3359">Get process</text><polygon fill="#A80036" points="259,685.3887,249,689.3887,259,693.3887,255,689.3887" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="253" x2="512.5" y1="689.3887" y2="689.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="265" y="684.6465">Return process</text><polygon fill="#A80036" points="58,714.6992,48,718.6992,58,722.6992,54,718.6992" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="242" y1="718.6992" y2="718.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="64" y="713.957">Return process status</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="806.5" y1="727.6992" y2="727.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="15" y="738.334">[If process complete]</text><polygon fill="#A80036" points="226,758.9648,236,762.9648,226,766.9648,230,762.9648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="232" y1="762.9648" y2="762.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="54" y="758.2227">Get process</text><polygon fill="#A80036" points="496.5,788.2754,506.5,792.2754,496.5,796.2754,500.5,792.2754" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="248" x2="502.5" y1="792.2754" y2="792.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="255" y="787.5332">Get process</text><polygon fill="#A80036" points="259,817.5859,249,821.5859,259,825.5859,255,821.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="253" x2="512.5" y1="821.5859" y2="821.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="265" y="816.8438">Return process</text><line style="stroke:#A80036;stroke-width:1.0;" x1="248" x2="290" y1="850.8965" y2="850.8965"/><line style="stroke:#A80036;stroke-width:1.0;" x1="290" x2="290" y1="850.8965" y2="863.8965"/><line style="stroke:#A80036;stroke-width:1.0;" x1="249" x2="290" y1="863.8965" y2="863.8965"/><polygon fill="#A80036" points="259,859.8965,249,863.8965,259,867.8965,255,863.8965" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="255" y="846.1543">Sign download URL</text><polygon fill="#A80036" points="58,889.207,48,893.207,58,897.207,54,893.207" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="242" y1="893.207" y2="893.207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="64" y="888.4648">Signed download URL</text><polygon fill="#A80036" points="715.5,918.5176,725.5,922.5176,715.5,926.5176,719.5,922.5176" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="721.5" y1="922.5176" y2="922.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="54" y="917.7754">Download request</text><polygon fill="#A80036" points="58,947.8281,48,951.8281,58,955.8281,54,951.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="731.5" y1="951.8281" y2="951.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="64" y="947.0859">Download image</text><!--MD5=[c670d1a98d4ffab0fa6a84c8f627cfec]
@startuml

skinparam Shadowing false

participant "Client" as CL
participant "Request Lambda" as RL
participant "Processing Lambda" as PL
database "DynamoDB" as DD
database "Input Images" as II
database "Processed Images" as PI

== Start procesing ==

CL -> RL: Create process
activate RL
RL -> DD: Store process index
activate DD
DD -> RL: Process index stored
deactivate DD
RL -> RL: Sign upload URL
RL -> CL: Process ID and signed URL 
deactivate RL

CL -> II: Upload request
activate II
II -> CL: Upload complete

== Process image ==

II -> PL: Put object event
deactivate II
activate PL
PL -> PL: Process image
PL -> PI: Store processed image
activate PI
PL -> DD: Update index
activate DD
DD -> PL: Index updated
deactivate DD
deactivate PL

== Monitor process ==

alt If process running

CL -> RL: Get process
activate RL
RL -> DD: Get process
activate DD
DD -> RL: Return process
deactivate DD
RL -> CL: Return process status
deactivate RL

else If process complete

CL -> RL: Get process
activate RL
RL -> DD: Get process
activate DD
DD -> RL: Return process
deactivate DD
RL -> RL: Sign download URL
RL -> CL: Signed download URL
deactivate RL

CL -> PI: Download request
PI -> CL: Download image
deactivate PI

end

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>